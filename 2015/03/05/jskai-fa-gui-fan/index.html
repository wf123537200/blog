
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>js开发规范</title>
    <meta name="description" content="本文为系列文章前端开发规范中 js开发规范的第一部分--js语言开发规范">
    <meta name="HandheldFriendly" content="True">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="baidu-site-verification" content="1B8AemIXSQ">
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->
    <link rel="canonical" href="http://127.0.0.1/2015/03/05/jskai-fa-gui-fan/">
    
    <meta property="og:site_name" content="zakwu的成长记录">
    <meta property="og:type" content="article">
    <meta property="og:title" content="js开发规范">
    <meta property="og:description" content="本文为系列文章前端开发规范中 js开发规范的第一部分--js语言开发规范...">
    <meta property="og:url" content="http://127.0.0.1/2015/03/05/jskai-fa-gui-fan/">
    <meta property="article:published_time" content="2015-03-05T05:29:53.000Z">
    <meta property="article:modified_time" content="2015-03-05T05:29:53.000Z">
    <meta property="article:tag" content="js">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="js开发规范">
    <meta name="twitter:description" content="本文为系列文章前端开发规范中 js开发规范的第一部分--js语言开发规范...">
    <meta name="twitter:url" content="http://127.0.0.1/2015/03/05/jskai-fa-gui-fan/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "zakwu的成长记录",
    "author": {
        "@type": "Person",
        "name": "zakwu",
        "url": "http://127.0.0.1/author/zakwu",
        "sameAs": null
    },
    "headline": "js开发规范",
    "url": "http://127.0.0.1/2015/03/05/jskai-fa-gui-fan/",
    "datePublished": "2015-03-05T05:29:53.000Z",
    "dateModified": "2015-03-05T05:29:53.000Z",
    "keywords": "js",
    "description": "本文为系列文章前端开发规范中 js开发规范的第一部分--js语言开发规范..."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="zakwu的成长记录" href="http://127.0.0.1/rss/">

    <!-- link -->
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" type="text/css" href="../../../../assets/css/style.css">
  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="http://zakwu.me/node/assets/about/about.html" target="_blank" title="about me" id="avatar"></a>

        <ul id="tags__ul">
          <!--&lt;!&ndash; connect &ndash;&gt;-->
          <!--<li id="sthfuns" class="tags__li tags-btn">作品集</li>-->
          <!--<li id="shareppt" class="tags__li tags-btn">分享ppt</li>-->

          <!-- acts -->
          <li id="js-label1" class="tags__li tags-btn active">全部文章</li>
          <li id="js-label2" class="tags__li tags-btn">ghost</li>
          <li id="js-label3" class="tags__li tags-btn">js 技术</li>
          <li id="js-label4" class="tags__li tags-btn">css 技术</li>
          <li id="js-label5" class="tags__li tags-btn">前端架构</li>
          <li id="js-label6" class="tags__li tags-btn">心随意转</li>
        </ul>

        <div id="tags__bottom">
          <a href="http://github.com/wf123537200/" target="_blank" class="tags-btn show-icon-right fa fa-github" title="加我github"></a>
          <a href="http://zakwu.me/node/assets/about/about.html" target="_blank" class="tags-btn show-icon-right fa fa-user" title="关于我"></a>
          <a href="mailto:wfsheep@163.com" title="给我邮件" class="tags-btn show-icon-right fa fa-envelope-o"></a>
          <a href="http://zakwu.me/rss/" title="订阅我的blog" class="tags-btn fa fa-rss"></a>
        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <form action="index.html" id="search-form">
          <a href="http://127.0.0.1" id="mobile-avatar"></a>
          <!-- NOTE: input field is disabled by default -->
          <input id="search-input" type="text" placeholder="Search...">
        </form>

        <nav id="pl__container">
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <div id="pjax">
        
    <article id="post__content">
      <h1 id="post__title" data-identifier="20150305">前端开发规范1（js规范）</h1>
      <p>最近整理了前端开发规范，主要分成三个部分js编写规范，html编写规范，css编写规范。</p>

<p>这里先介绍我整理的js开发规范之js语言规范：</p>

<h2 id="javascript">JavaScript语言规范</h2>

<h3 id="">变量</h3>

<p>声明变量必须加上 var 关键字。</p>

<h3 id="">常量</h3>

<p>常量的形式如:<code class="language-javascript">NAME_AAA</code> ,即使用大写字符, 并用下划线分隔。</p>

<h3 id="">分号</h3>

<p>总是使用分号。如果仅依靠语句间的隐式分隔, 有时会很麻烦. 你自己更能清楚哪里是语句的起止。</p>

<h3 id="">块内函数声明</h3>

<p>不要在块内声明一个函数，由于兼容性问题
不要写成:</p>

<pre><code class="language-javascript">  if (x) {
     function foo() {}
  }
</code></pre>

<p>如果非要写的话，应写成</p>

<pre><code class="language-javascript">if (x) {
     var fn = function foo() {}
}
</code></pre>

<h3 id="">异常</h3>

<p>可以使用，你在写一个比较复杂的应用时, 不可能完全避免不会发生任何异常. 大胆去用吧。</p>

<h3 id="">自定义异常</h3>

<p>有时发生异常了, 但返回的错误信息比较奇怪, 也不易读. 虽然可以将含错误信息的引用对象或者可能产生错误的完整对象传递过来, 但这样做都不是很好, 最好还是自定义异常类, 其实这些基本上都是最原始的异常处理技巧. 所以在适当的时候使用自定义异常。</p>

<h3 id="">标准特性</h3>

<p>最大化可移植性和兼容性, 尽量使用标准方法而不是用非标准方法, (比如, 优先用string.charAt(3) 而不用 string[3] , 通过 DOM 原生函数访问元素, 而不是使用应用封装好的快速接口.</p>

<h3 id="">封装基本类型</h3>

<p>不允许没有任何理由去封装基本类型。</p>

<p>不推荐：</p>

<pre><code class="language-javascript">var x = new Boolean(false);
if(x) {
    alert('hi'); // shows 'hi'
}
</code></pre>

<p>推荐:</p>

<pre><code class="language-javascript">var x = Boolean(0);
if(x) {
    alert('hi'); // this will never be alerted
}
typeof Boolean(0) === 'boolean'; // true
typeof new Boolean(0) ===  'object'; // true
</code></pre>

<h3 id="">闭包</h3>

<p>可以使用，但是注意循环引用和内存泄露问题
不推荐，内存泄露：</p>

<pre><code class="language-javascript">function foo(el, a, b) {
    el.onclick = function() {/* user a and b*/};// 由于引用了dom结构，此函数在内存中不会被释放
}
</code></pre>

<p>推荐:</p>

<pre><code class="language-javascript">function foo(el, a, b) {
    el.onclick = bar(a, b);
}

function bar(a, b) {
    return function() {/* uses a and b here*/}
}
</code></pre>

<h3 id="eval">e v a l ( )</h3>

<p>只用于解析序列化串 (如: 解析 RPC 响应)，eval() 会让程序执行的比较混乱, 当 eval() 里面包含用户输入的话就更加危险. 可以用其他更佳的, 更清晰, 更安全的方式写你的代码, 所以一般情况下请不要使用 eval().</p>

<h3 id="with">w i t h ( )</h3>

<p>不要使用</p>

<h3 id="this">t h i s</h3>

<p>仅在对象构造器, 方法, 闭包中使用。this 的语义很特别. 有时它引用一个全局对象(大多数情况下), 调用者的作用域(使用 eval时), DOM 树中的节点(添加事件处理函数时), 新创建的对象(使用一个构造器), 或者其他对象(如果函数被 call() 或 apply())。使用时很容易出错, 所以只有在下面两个情况时才能使用:</p>

<p><strong>在构造器中</strong> <br>
<strong>对象的方法(包括创建的闭包)中</strong></p>

<h3 id="forin">f o r - i n 循环</h3>

<p>只用于 object/map/hash 的遍历。
对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值。</p>

<p>不推荐：</p>

<pre><code class="language-javascript">function printArray(arr) {
    for(var key in arr) {
        print(arr[key]);
    }

    printArray([0, 1, 2, 3]); // this will work

    var a = new Array(10);
    printArray(a); // this will wrong

    a = document.getElementsByTagName('*');
    printArray(a); // this will wrong

    a = [0, 1, 2, 3];
    a.zak = 'wu';
    printArray(a); // this will wrong again

    a = new Array;
    a[3] = 3;
    printArray(a); // this is wrong again
}
</code></pre>

<p>推荐,使用最普通的for循环来处理array:</p>

<pre><code class="language-javascript">function printArray(arr) {
    var l = arr.length;
    for(var i = 0; i &lt; 1; i++) {
        print(arr[i]);
    }
}
</code></pre>

<h3 id="arrayobject">A r r a y 和 O b j e c t 直接量</h3>

<p>使用 Array 和 Object 语法, 而不使用 Array 和 Object 构造器。
错误：</p>

<pre><code class="language-javascript"> // length is 3
var a1 = new Array(x1, x2, x3);

// length is 2
var a2 = new Array(x1, x2);

// 当x1的为自然数时，代码运行，当x1为非自然数时报错
var a3 = new Array(x1);

// length is 0 
var a4 = new Array();
</code></pre>

<p>推荐：</p>

<pre><code class="language-javascript">var a1 = [x1, x2, x3];
var a2 = [x1, x2];
var a3 = [x1];
var a4 = [];
</code></pre>

<h3 id="">修改内置对象的原型</h3>

<p>千万不要修改内置对象, 如 Object.prototype 和 Array.prototype 的原型. 而修改内置对象, 如 Function.prototype 的原型, 虽然少危险些, 但仍会导致调试时的诡异现象. 所以也要避免修改其原型。</p>
    </article> <!-- end #post__content -->

    <!--<div id="post__share">-->
      <!--<a id="icon-twitter" href="https://twitter.com/intent/tweet?url=http://127.0.0.1/2015/03/2015/03/05/jskai-fa-gui-fan/&text=前端开发规范1（js规范）" target="_blank"></a>-->
      <!--<a id="icon-cc" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>-->
      <!--<a id="icon-weibo" href="http://v.t.sina.com.cn/share/share.php?url=http://127.0.0.1/2015/03/2015/03/05/jskai-fa-gui-fan/&title=前端开发规范1（js规范）" target="_blank"></a>-->
    <!--</div> &lt;!&ndash; end #post__share &ndash;&gt;-->
    <div id="dsData" data-id="15" data-title="前端开发规范1（js规范）" data-url="/2015/03/05/jskai-fa-gui-fan/"></div>
    <!--PC版-->
    <div id="cyss" sid="/2015/03/05/jskai-fa-gui-fan/"></div>
    <div id="SOHUCS" sid="/2015/03/05/jskai-fa-gui-fan/"></div>

      </div> <!-- end #pjax -->

      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

    <!-- 收缩箭头 -->
    <button id="js-fullscreen"><span class="fa fa-chevron-right" id="icon-arrow"></span></button>

    <footer>
      <div>Powered by <a href="https://ghost.org" target="_blank">Ghost</a>  |  ©zak wu 2015<a href="http://www.miitbeian.gov.cn/">粤ICP备15007095</a></div>
    </footer>

    <script src="../../../../assets/js/jquery-2.0.3.min.js"></script>
    <script src="../../../../assets/js/jquery.pjax.js"></script>
    <script src="../../../../assets/js/nprogress.js"></script>
    <script src="../../../../assets/js/prism.js"></script>
    <script src="../../../../assets/js/script.js"></script>
    <script src="../../../../public/jquery.js?v=1ddaf0efa3"></script>
  </body>
